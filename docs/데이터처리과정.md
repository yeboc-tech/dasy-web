# 데이터 처리 과정

## 📂 폴더 구조
- **raw/**: 원본 파일
- **modified/**: 처리된 파일

---

## 🔄 처리 흐름

### 1단계: 과목 분리

**원본 파일 (raw 폴더)**
- `정법생윤.csv` (414개 문제)

**처리 내용**
- 정치와 법과 생활과 윤리가 하나의 파일에 섞여있었습니다
- 과목 컬럼을 보고 두 과목을 분리했습니다

**결과 파일 (modified 폴더)**
- `정법.csv` (299개, 순번 1-298)
- `생윤.csv` (115개, 순번 1-115)

---

### 2단계: 전체 합치기

**입력 파일**
- `정법.csv` (299개)
- `생윤.csv` (115개)
- `경제.csv` (598개) - raw 폴더

**처리 내용**
- 세 과목을 하나의 파일로 합쳤습니다
- 각 과목의 순번(1, 2, 3...)은 그대로 유지했습니다
- 어떤 과목에만 있는 항목도 모두 포함했습니다

**결과 파일**
- `정법생윤경제.csv` (1,012개)

---

### 3단계: 정리하기

**입력 파일**
- `정법생윤경제.csv` (1,012개)

**처리 내용**
- 순번이 제대로 안 적힌 행들을 제거했습니다 (14개 제거)
- 필요없는 컬럼(빈 컬럼, 비고, 작업 상태값)을 삭제했습니다
- 전체 문제에 1번부터 시작하는 전역 번호를 새로 매겼습니다
- 각 과목의 원래 순번은 그대로 유지했습니다

**결과 파일**
- `정법생윤경제-refined.csv` (998개)

---

### 4단계: DB 데이터와 비교

**입력 파일**
- `정법생윤경제-refined.csv` (998개) - 컨텐츠팀 파일
- `문제데이터_2025-10-03.csv` (995개) - 현재 DB 데이터

**처리 내용**
- 과목 이름과 순번을 기준으로 두 파일을 매칭했습니다
- DB에 있는 정보(문제 ID, 파일명, 난이도 등)를 컨텐츠팀 파일에 추가했습니다
- DB 항목은 "DB_"로 시작하는 컬럼 이름으로 구분됩니다

**결과 파일**
- `정법생윤경제-verification.csv` (998개)
- 996개 매칭 성공, 2개 매칭 실패

---

### 5단계: 검증 분석

**입력 파일**
- `정법생윤경제-verification.csv`

**처리 내용**
- 전체 및 과목별 개수를 계산했습니다
- 순번에 중복이나 빠진 숫자가 있는지 확인했습니다
- DB에 없는 문제들을 찾아냈습니다

**결과 파일**
- `검증상태보고서.csv`

---

## 📊 최종 결과

| 파일명 | 설명 |
|--------|------|
| `정법생윤경제-verification.csv` | 컨텐츠팀 데이터 + DB 데이터 통합본 (998개 문제) |
| `검증상태보고서.csv` | 검증 결과 요약 (문제점 포함) |

*처리 완료: 2025년 10월 3일*
