# 요통사 교재 → 학습지 변환 작업 기록

## 작업 개요

요통사 교재의 문제 매핑 정보(엑셀)를 KIDARI 학습지로 변환하는 작업입니다.

**작업 대상:** `1권 3단원` (71문제)

## 변환 흐름

```
yotongsa.xlsx
    ↓
1권3단원_raw.json (원본 추출)
    ↓
1권3단원_refined.json (ID 생성 및 검증)
    ↓
1권3단원_verified.json (DB 존재 여부 확인)
    ↓
학습지 생성 완료
```

## 파일 설명

### 1. yotongsa.xlsx
요통사 교재의 문제 매핑 원본 파일

### 2. 1권3단원_raw.json
엑셀에서 추출한 원본 데이터
- 단원명, 페이지, 문항, 난이도, 정답률
- 요통사교재No, 통키다리No, 특이사항

### 3. 1권3단원_refined.json
ID 생성 및 매칭 결과
- `통키다리No_original`: 엑셀에 있던 원본 ID
- `통키다리No_generated`: 요통사교재No에서 자동 생성한 ID
- `통키다리No_final`: 최종 사용할 ID (원본 우선)
- `initialMatch`: 원본과 생성 ID 일치 여부

### 4. 1권3단원_verified.json
DB 검증 결과
- `existsInDB`: 해당 문제가 DB에 있는지 여부

## ID 생성 규칙

| 요통사교재No 형식 | 변환 규칙 |
|------------------|----------|
| 2021학년도 6월 모평 세계지리 9번 | 세계지리_고3_**2020**_06_모평_9_문제 (학년도-1) |
| 2020년 4월 학평 세계지리 9번 | 세계지리_고3_**2020**_04_학평_9_문제 (년도 그대로) |
| 2022학년도 수능 세계지리 16번 | 세계지리_고3_**2021**_11_수능_16_문제 (학년도-1, 월=11) |

## 작업 결과

| 항목 | 수량 |
|------|------|
| 전체 문제 | 71 |
| ID 있음 | 68 |
| DB에 존재 | 59 |
| DB에 없음 (추후 추가 필요) | 9 |
| ID 없음 (수동 확인 필요) | 3 |

## 생성된 학습지

- **제목:** 요약한 통합사회 1권 3단원
- **출제자:** 민성원T
- **문제 수:** 68문제
- **정렬:** 수동 (엑셀 순서 유지)

## DB에 없는 문제 목록

아래 문제들은 DB에 추가 후 자동으로 학습지에 반영됩니다:

| 행 | 문제 ID | 비고 |
|----|---------|------|
| 8 | 세계지리_고3_2020_03_학평_7_문제 | |
| 10 | 한국지리_고3_2019_06_모평_18_문제 | 통키다리 이미지x |
| 11 | 한국지리_고3_2021_09_모평_4_문제 | 통키다리 이미지x |
| 18 | 세계지리_고3_2019_06_모평_5_문제 | |
| 21 | 한국지리_고3_2020_10_학평_2_문제 | 통키다리 없음 |
| 23 | 세계지리_고3_2015_06_모평_11_문제 | |
| 26 | 세계지리_고3_2019_03_학평_16_문제 | |
| 27 | 세계지리_고3_2019_04_학평_18_문제 | |
| 31 | 세계지리_고3_2017_03_학평_20_문제 | |

## ID 없는 문제 (수동 확인 필요)

| 행 | 페이지 | 문항 | 비고 |
|----|--------|------|------|
| 32 | 416 | 1 | 요통사교재No 없음 |
| 52 | 478 | 1 | 요통사교재No 없음 |
| 53 | 478 | 2 | 요통사교재No 없음 |
